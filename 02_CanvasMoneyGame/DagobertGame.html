<!DOCTYPE html>
<html>
  <head>
      <title>Dagobert Money Game</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" type="text/css" href="core/lib/semantic-ui/semantic.min.css">

      <style> 
        .aspect-container {
          position: relative;
          padding: 0 0 50% 0;
          height: 0;
          overflow: hidden;
          /* background-color: brown; */
          background-image: url("media/BackgroundImage.jpg");
          background-size: cover;
          opacity: 0.9;
         /* background-position: bottom; */
         
        }
        #myCanvas {
          width: 100%; 
          height: 100%; 
          position:absolute;
          top:0;
          left:0;
        }
      </style>

      <script src="core/lib/jquery-3.2.1.js"></script>
      <script src="core/lib/semantic-ui/semantic.min.js"></script>
      <script src="core/lib/howler.js"></script> <!-- Für die Sounds -->
      <script src="core/js/gameEngine.js"></script> 
      <script src="core/js/utils.js"></script>

      <script>
        let engine = null; // Globale Variable, engine genannt (Was alles gerändert wird). Der Rest ist in "Klassen" gekapselt
        
        $(function() {
          
          $("#b-restart").on("click", function() { // Event handler auf den Restart Button. Methode, dass das Game neu gestartet wird.
            engine.restartGame(); // Methode (Funktionalität) für den Restart.
          });
          
          engine = new GameEngine("myCanvas");
        });

        /// --- Objekt erzeugen (Bauplan des MoneyObject, z.B Haus quasi) --- ///
        /* function MoneyObject(paramX = 0, paramY = 0, paramH = 0, paramW = 0) {  // Leeres Objekt, die übergeordnete Umgebung. Wir geben 2 Parameter mit
            this.x = paramX; // this ist immer die Referenz (Property des Objekts), um auf alle Elternproperties und Methoden zugreifen
            this.y = paramY; // Lokale Properties. Denen geben wir einen Wert mit... X und Y
            this.width = paramW;
            this.height = paramH;
            this.speed = 1; // Jeder Variable können wir eine Methode() zuweisen btw
            this.move = function() { // Jedes mal wenn ich move aufrufe, soll die Y Variable um den Speed dazuaddiert werden. Jedes Moneyobject weiss somit selber, wie schnell es ist...
              this.y += this.speed; //...Sonst wäre alles viel zu komplex (X-Fach den Münzen Bewegung zuschreiben)
            };

            /// --- MoneyObject wollen wir abbilden --- ///
            this.render = function() {
              console.log("render MoneyObject")
            }

          } */

        /// --- Instanz des Bauplans (Gebäude mit Inhalt quasi) --- ///
        let testObj = new MoneyObject(); //  Instantierte Funktion. Mit NEW geben wir hier die Werte mit, um so "undefined" zu vermeiden
        // let testObj2 = new MoneyObject(30,50);  MoneyObject können wir vielfach instanzieren, wenn wir wollen.
        
        /// --- Movemethode führt für jedes Objekt einen anderen Grundwert aus: 0,1,6 --- ///
        console.log(testObj.y); // Start: 0
        testObj.move(); // Mit .move fügen wir die Speed = 1 Variable dazu
        console.log(testObj.y); // Obiger .move des MoneyObjects wird das erste mal ausgeführt = 1
        testObj.speed = 5; // 1 + 5 Speedvariable neu ausführen, zu dem 1 hinzu = 6...
        testObj.move(); // Mit .move fügen wir die Speed = 1 Variable dazu
        console.log(testObj.y); // ...So erhalten wir 6
  

      </script>
  </head>
  <body>
    <div class="ui raised padded container segment">
      <div class="ui segments">
        <div class="ui segment">
          <h3>Canvas - Exercise 8 (Canvas-Game 2D)</h3>
        </div>
        <div class="ui segment">
          <button id="b-restart" class="ui button">Restart</button>

          
        </div>
        <div class="ui segment">
          <!-- area for canvas-element -->
          <div class="aspect-container">
            <canvas id="myCanvas" width="100" height="100"></canvas >
          </div>
        </div>
        <div class="ui segment">
          
        </div>
      </div>
    </div>
  </body>
</html>
